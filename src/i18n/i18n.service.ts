import { Injectable } from '@nestjs/common';

@Injectable()
export class I18nService {
  private readonly translations: Record<string, Record<string, string>> = {
    en: {
      'User with this email already exists': 'User with this email already exists',
      'Invalid email or password': 'Invalid email or password',
      'Logged out successfully': 'Logged out successfully',
      'If the email exists, an OTP has been sent': 'If the email exists, an OTP has been sent',
      'Invalid or expired OTP': 'Invalid or expired OTP',
      'OTP verified successfully': 'OTP verified successfully',
      'Password reset successfully': 'Password reset successfully',
      'Pet not found': 'Pet not found',
      'Pet deleted successfully': 'Pet deleted successfully',
      'Post not found': 'Post not found',
      'Comment not found': 'Comment not found',
      'Parent comment not found': 'Parent comment not found',
      'Already liked': 'Already liked',
      'Liked successfully': 'Liked successfully',
      'Unliked successfully': 'Unliked successfully',
      'Already shared this post': 'Already shared this post',
      'Shared successfully': 'Shared successfully',
      'Unshared successfully': 'Unshared successfully',
      'Share not found': 'Share not found',
      'Comment content cannot be empty': 'Comment content cannot be empty',
      'Comment deleted successfully': 'Comment deleted successfully',
      'Permission denied': 'Permission denied',
      'User not found': 'User not found',
      'User followed successfully': 'User followed successfully',
      'User unfollowed successfully': 'User unfollowed successfully',
      'Follow not found': 'Follow not found',
      'User blocked successfully': 'User blocked successfully',
      'User unblocked successfully': 'User unblocked successfully',
      'Block not found': 'Block not found',
      'Notification marked as read': 'Notification marked as read',
      'Notifications marked as read': 'Notifications marked as read',
      'Unread notifications count': 'Unread notifications count',
      'AI dialogue started': 'AI dialogue started',
      'AI dialogue ended': 'AI dialogue ended',
      'AI processing error': 'AI processing error',
      'Voice command processed': 'Voice command processed',
      'Event not found': 'Event not found',
      'Invalid token': 'Invalid token',
      'Token is invalidated': 'Token is invalidated',
    },
    zh: {
      'User with this email already exists': '该邮箱已被注册',
      'Invalid email or password': '邮箱或密码错误',
      'Logged out successfully': '退出登录成功',
      'If the email exists, an OTP has been sent': '如果邮箱存在，OTP已发送',
      'Invalid or expired OTP': 'OTP无效或已过期',
      'OTP verified successfully': 'OTP验证成功',
      'Password reset successfully': '密码重置成功',
      'Pet not found': '宠物未找到',
      'Pet deleted successfully': '宠物删除成功',
      'Post not found': '帖子未找到',
      'Comment not found': '评论未找到',
      'Parent comment not found': '父评论未找到',
      'Already liked': '已点赞',
      'Liked successfully': '点赞成功',
      'Unliked successfully': '取消点赞成功',
      'Already shared this post': '已分享该帖子',
      'Shared successfully': '分享成功',
      'Unshared successfully': '取消分享成功',
      'Share not found': '分享未找到',
      'Comment content cannot be empty': '评论内容不能为空',
      'Comment deleted successfully': '评论删除成功',
      'Permission denied': '权限不足',
      'User not found': '用户未找到',
      'User followed successfully': '关注成功',
      'User unfollowed successfully': '取消关注成功',
      'Follow not found': '关注关系未找到',
      'User blocked successfully': '拉黑成功',
      'User unblocked successfully': '取消拉黑成功',
      'Block not found': '拉黑关系未找到',
      'Notification marked as read': '通知已标记为已读',
      'Notifications marked as read': '所有通知已标记为已读',
      'Unread notifications count': '未读通知数量',
      'AI dialogue started': 'AI对话已开始',
      'AI dialogue ended': 'AI对话已结束',
      'AI processing error': 'AI处理错误',
      'Voice command processed': '语音命令已处理',
      'Event not found': '事件未找到',
      'Invalid token': '无效token',
      'Token is invalidated': 'token已失效',
    },
    ar: {
      'User with this email already exists': 'البريد الإلكتروني مسجل بالفعل',
      'Invalid email or password': 'بريد إلكتروني أو كلمة مرور غير صالحة',
      'Logged out successfully': 'تم تسجيل الخروج بنجاح',
      'If the email exists, an OTP has been sent': 'إذا كان البريد الإلكتروني موجودًا، فقد تم إرسال OTP',
      'Invalid or expired OTP': 'OTP غير صالح أو منتهي الصلاحية',
      'OTP verified successfully': 'تم التحقق من OTP بنجاح',
      'Password reset successfully': 'تم إعادة تعيين كلمة المرور بنجاح',
      'Pet not found': 'لم يتم العثور على الحيوان الأليف',
      'Pet deleted successfully': 'تم حذف الحيوان الأليف بنجاح',
      'Post not found': 'لم يتم العثور على المنشور',
      'Comment not found': 'لم يتم العثور على التعليق',
      'Parent comment not found': 'لم يتم العثور على التعليق الأصلي',
      'Already liked': 'تم الإعجاب بالفعل',
      'Liked successfully': 'تم الإعجاب بنجاح',
      'Unliked successfully': 'تم إلغاء الإعجاب بنجاح',
      'Already shared this post': 'تم مشاركة هذا المنشور بالفعل',
      'Shared successfully': 'تم المشاركة بنجاح',
      'Unshared successfully': 'تم إلغاء المشاركة بنجاح',
      'Share not found': 'لم يتم العثور على المشاركة',
      'Comment content cannot be empty': 'محتوى التعليق لا يمكن أن يكون فارغًا',
      'Comment deleted successfully': 'تم حذف التعليق بنجاح',
      'Permission denied': 'الصلاحية مرفوضة',
      'User not found': 'لم يتم العثور على المستخدم',
      'User followed successfully': 'تم المتابعة بنجاح',
      'User unfollowed successfully': 'تم إلغاء المتابعة بنجاح',
      'Follow not found': 'لم يتم العثور على المتابعة',
      'User blocked successfully': 'تم الحظر بنجاح',
      'User unblocked successfully': 'تم إلغاء الحظر بنجاح',
      'Block not found': 'لم يتم العثور على الحظر',
      'Notification marked as read': 'تم وضع علامة مقروء على الإشعار',
      'Notifications marked as read': 'تم وضع علامة مقروء على جميع الإشعارات',
      'Unread notifications count': 'عدد الإشعارات غير المقروءة',
      'AI dialogue started': 'بدأ حوار الذكاء الاصطناعي',
      'AI dialogue ended': 'انتهى حوار الذكاء الاصطناعي',
      'AI processing error': 'خطأ في معالجة الذكاء الاصطناعي',
      'Voice command processed': 'تم معالجة الأمر الصوتي',
      'Event not found': 'لم يتم العثور على الحدث',
      'Invalid token': 'رمز غير صالح',
      'Token is invalidated': 'تم إبطال الرمز',
    },
  };

  t(key: string, lang: string = 'en'): string {
    const locale = lang.startsWith('zh') ? 'zh' : lang.startsWith('ar') ? 'ar' : 'en';
    return this.translations[locale]?.[key] || key;
  }
}
